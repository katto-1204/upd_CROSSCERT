module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},43205,a=>{"use strict";let b="/api/events",c="/api/registrations",d="/api/certificates";function e(a){return`http://localhost:8000/admin${a}`}a.s(["api",0,{events:()=>e(b),registrations:()=>e(c),checkIns:()=>e("/api/check-ins"),evaluations:()=>e("/api/evaluations"),certificates:()=>e(d),participants:()=>e("/api/participants"),eventById:a=>`${e(b)}/${a}/`,registrationById:a=>`${e(c)}/${a}/`,certificateById:a=>`${e(d)}/${a}/`}])},3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}a.s(["Card",()=>d])},210,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},49742,a=>{"use strict";var b=a.i(72131);a.i(35112);var c=a.i(11011),d=a.i(87924),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((a,e)=>{let f=b.forwardRef((a,b)=>{let{asChild:f,...g}=a,h=f?c.Slot:e;return(0,d.jsx)(h,{...g,ref:b})});return f.displayName=`Primitive.${e}`,{...a,[e]:f}},{});a.s(["Primitive",()=>e])},17171,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(49742),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(97895);function g({className:a,...c}){return(0,b.jsx)(e,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>g],17171)},78773,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131),e=a.i(210),f=a.i(23237),g=a.i(39761);let h=(0,a.i(70106).default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var i=a.i(3130),j=a.i(40695),k=a.i(5522),l=a.i(17171),m=a.i(43205);function n(){let a=(0,c.useRouter)(),n=(0,d.useRef)(null),o=(0,d.useRef)(null),[p,q]=(0,d.useState)([]),[r,s]=(0,d.useState)(""),[t,u]=(0,d.useState)(!1),[v,w]=(0,d.useState)(""),[x,y]=(0,d.useState)(""),[z,A]=(0,d.useState)(0),[B,C]=(0,d.useState)(!1);(0,d.useEffect)(()=>{(async()=>{try{let a=await fetch(m.api.events());if(!a.ok)throw Error("Unable to load events");let b=await a.json();q(b)}catch(a){console.error(a)}})()},[]);let D=async()=>{try{let a=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});n.current&&(n.current.srcObject=a,u(!0))}catch(a){alert("Unable to access camera. Using manual entry instead.")}},E=async()=>{if(!r)return void alert("Please select an event first");if(!v.trim())return void alert("Please enter a code or scan a QR code");try{let a=await fetch(`${m.api.checkIns()}/check-in-by-code/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:v.trim()})}),b=await a.json();if(!a.ok)return void alert(b.error||b.message||"Unable to check in participant.");y(`${b.participant_name??"Participant"}`),A(a=>a+1),C(!0),setTimeout(()=>{w(""),C(!1)},2e3)}catch(a){alert("Network error while checking in participant.")}};return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("button",{onClick:()=>a.back(),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[(0,b.jsx)(e.ArrowLeft,{className:"w-4 h-4"}),"Back"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Event Check-In"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Select an event and scan participant QR codes or barcodes"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsx)(i.Card,{className:"p-6 border border-border bg-card space-y-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{className:"text-foreground font-semibold",children:"Select Event"}),(0,b.jsxs)("select",{value:r,onChange:a=>s(a.target.value),className:"w-full mt-2 px-3 py-2 rounded-md border border-border bg-background text-foreground",children:[(0,b.jsx)("option",{value:"",children:"-- Choose an event --"}),p.map(a=>(0,b.jsx)("option",{value:a.id.toString(),children:a.title},a.id))]})]})}),(0,b.jsxs)(i.Card,{className:"p-6 border border-border bg-card space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)(h,{className:"w-6 h-6 text-secondary"}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"QR Code Scanner"})]}),t?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg border border-border",style:{maxHeight:"300px"}}),(0,b.jsx)("canvas",{ref:o,className:"hidden"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(j.Button,{className:"flex-1 gap-2",onClick:()=>{if(n.current&&o.current){let a=o.current.getContext("2d");a&&(a.drawImage(n.current,0,0),o.current.toDataURL("image/png"),console.log("[v0] QR code captured, would be processed here"))}},children:"Capture"}),(0,b.jsx)(j.Button,{variant:"outline",className:"flex-1",onClick:()=>{n.current&&n.current.srcObject&&(n.current.srcObject.getTracks().forEach(a=>a.stop()),u(!1))},children:"Stop Camera"})]})]}):(0,b.jsxs)(j.Button,{className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground gap-2",onClick:D,children:[(0,b.jsx)(h,{className:"w-4 h-4"}),"Start Camera"]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pointer-events-none pl-3",children:(0,b.jsx)(f.QrCode,{className:"w-5 h-5 text-muted-foreground"})}),(0,b.jsx)(k.Input,{placeholder:"Or paste scanned code here...",value:v,onChange:a=>w(a.target.value),onKeyPress:a=>"Enter"===a.key&&E(),className:"pl-10 bg-background border-border text-base",autoFocus:!0})]}),(0,b.jsx)(j.Button,{className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground font-semibold",size:"lg",onClick:E,children:"Check In Participant"})]}),B&&(0,b.jsx)(i.Card,{className:"p-6 border-2 border-green-500 bg-green-50 space-y-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white",children:"âœ“"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-green-900",children:x}),(0,b.jsx)("p",{className:"text-sm text-green-700",children:"Successfully checked in"})]})]})})]}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)(i.Card,{className:"p-6 border border-border bg-card sticky top-20 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(g.BarChart3,{className:"w-5 h-5 text-secondary"}),(0,b.jsx)("h3",{className:"font-semibold text-foreground",children:"Today's Stats"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,b.jsx)("p",{className:"text-4xl font-bold text-secondary",children:z}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Checked In"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:"12"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Total Expected"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-purple-500",children:[Math.round(z/12*100),"%"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Attendance Rate"})]})]})]})})]})]})}a.s(["default",()=>n],78773)}];

//# sourceMappingURL=_f511ca22._.js.map