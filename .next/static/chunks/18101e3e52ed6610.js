(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}e.s(["Card",()=>s])},71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},91645,e=>{"use strict";let t="/api/events",r="/api/registrations",s="/api/certificates";function a(e){return`http://localhost:8000/admin${e}`}e.s(["api",0,{events:()=>a(t),registrations:()=>a(r),checkIns:()=>a("/api/check-ins"),evaluations:()=>a("/api/evaluations"),certificates:()=>a(s),participants:()=>a("/api/participants"),eventById:e=>`${a(t)}/${e}/`,registrationById:e=>`${a(r)}/${e}/`,certificateById:e=>`${a(s)}/${e}/`}])},40160,e=>{"use strict";let t=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],40160)},5884,e=>{"use strict";var t=e.i(43476),r=e.i(92989),s=e.i(71645),a=e.i(71689),d=e.i(37727),o=e.i(40160),n=e.i(70065),l=e.i(67881),i=e.i(91645);function c(){let e=(0,r.useRouter)(),c=(0,r.useParams)(),[m,x]=(0,s.useState)(!0),[u,g]=(0,s.useState)(!0),[f,h]=(0,s.useState)(""),[b,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{let e=c.id,t=localStorage.getItem("userEmail");if(!t){h("You must be signed in to view your QR code."),g(!1);return}try{let r=`${i.api.registrations()}/?event=${encodeURIComponent(e)}&email=${encodeURIComponent(t)}`,s=await fetch(r);if(!s.ok)throw Error("Unable to load registration data.");let a=await s.json();Array.isArray(a)&&0!==a.length?p(a[0]):h("No registration found for this event.")}catch(e){h(e.message??"Unable to load your QR code.")}finally{g(!1)}})()},[c.id]);let j=()=>{x(!1),e.push(`/participant/event/${c.id}`)};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("button",{onClick:()=>e.back(),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-6",children:[(0,t.jsx)(a.ArrowLeft,{className:"w-4 h-4"}),"Back"]}),m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)(n.Card,{className:"p-6 border border-border bg-card w-full max-w-5xl mx-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Your Check-In Codes"}),(0,t.jsx)("button",{onClick:j,className:"text-muted-foreground hover:text-foreground",children:(0,t.jsx)(d.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-muted p-4 rounded-lg border border-border space-y-2",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:b?`${b.first_name} ${b.last_name}`:"Participant"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:b?.email}),(0,t.jsx)("div",{className:"h-px bg-border"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Department"}),(0,t.jsx)("p",{className:"font-medium text-foreground",children:"College of Engineering"})]}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Program"}),(0,t.jsx)("p",{className:"font-medium text-foreground",children:"BS Computer Engineering"})]})]}),(0,t.jsx)("div",{className:"bg-muted p-4 rounded-lg border border-border flex items-center justify-center",children:(0,t.jsx)("div",{className:"aspect-square w-full max-w-56 bg-white rounded flex items-center justify-center",children:b?.qr_code?(0,t.jsx)("img",{src:`data:image/png;base64,${b.qr_code}`,alt:"QR Code",className:"w-40 h-40 object-contain"}):(0,t.jsx)("div",{className:"w-40 h-40 bg-gray-200 rounded flex items-center justify-center text-xs text-gray-500",children:"QR not available"})})}),(0,t.jsx)("div",{className:"bg-muted p-4 rounded-lg border border-border flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-full max-w-56 h-24 bg-white rounded flex items-center justify-center text-xs text-gray-500",children:b?.barcode_image?(0,t.jsx)("img",{src:`data:image/png;base64,${b.barcode_image}`,alt:"Barcode",className:"w-full h-full object-contain"}):"Barcode not available"})}),(0,t.jsxs)("div",{className:"bg-muted p-4 rounded-lg border border-border text-center flex flex-col items-center justify-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Code"}),(0,t.jsx)("p",{className:"font-mono text-lg font-bold text-foreground break-all",children:b?.qr_code_value??"â€”"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)(l.Button,{variant:"outline",className:"flex-1",onClick:j,children:"Close"}),(0,t.jsxs)(l.Button,{className:"flex-1 bg-secondary hover:bg-secondary/90 text-secondary-foreground gap-2",onClick:()=>{j()},children:[(0,t.jsx)(o.Download,{className:"w-4 h-4"}),"Download"]})]})]})}),(0,t.jsxs)(n.Card,{className:"p-8 border border-border bg-card space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-foreground mb-2",children:participant.name}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Event Check-In"})]}),(0,t.jsx)("div",{className:"bg-muted p-8 rounded-lg border border-border",children:(0,t.jsx)("div",{className:"aspect-square bg-white rounded flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-48 h-48 bg-gray-200 rounded flex items-center justify-center text-sm text-gray-500",children:"QR Code"})})}),(0,t.jsx)("div",{className:"bg-muted p-6 rounded-lg border border-border",children:(0,t.jsx)("div",{className:"h-20 bg-white rounded flex items-center justify-center text-sm text-gray-500",children:"Barcode"})}),(0,t.jsxs)("div",{className:"bg-muted p-4 rounded-lg text-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Check-In Code"}),(0,t.jsx)("p",{className:"font-mono text-lg font-bold text-foreground",children:participant.qrCode})]}),(0,t.jsxs)(l.Button,{className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground gap-2",onClick:()=>console.log("Download QR code"),children:[(0,t.jsx)(o.Download,{className:"w-4 h-4"}),"Download All Codes"]})]})]})}e.s(["default",()=>c])}]);